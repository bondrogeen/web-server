<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta http-equiv="Content-Language" content="en"><meta name="msapplication-TileColor" content="#2d89ef"><meta name="theme-color" content="#4188c9"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="mobile-web-app-capable" content="yes"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta charset="UTF-8"><link href="style.css.gz" rel="stylesheet"><title>DoT</title><style>.card .card-image{background:url(http://git.codedevice.ru/img/new.jpg) center center/cover no-repeat;height:200px;border-bottom:1px solid}.card .card-reveal p{margin:0}.b{font-weight:700}.btnInfo,.git,.sett,.vers{position:absolute}.btnInfo{right:23px;bottom:50px;font-size:3rem;cursor:pointer}.sideopen{cursor:pointer}.git,.vers{right:20px;bottom:5px}.sett{bottom:30px;right:20px}.card .card-content{min-height:115px}</style></head><body><div id="loader" class="loader"></div><ul class="nav fix info" id="navbar"><li><a href="index.html" class="brand">Web-server</a></li><li><a href="settings.html">Settings</a></li><li class="-exit"><a href="#" id="btn_exit" onclick="logout()">Exit</a></li><li class="-icon"><a href="#" onclick='document.getElementById("navbar").classList.toggle("res")'>&equiv;</a></li></ul><div id="Modal" class="modal hide"><div class="m-cont"><span class="close" onclick="modclose()">&times;</span><div class="m-body"><p>Save settings?</p></div><div class="m-foo"><button class="success">Yes</button> <button class="danger">No</button></div></div></div><div class="cont"><div class="row"><div class="s12 m2 l2"><h1>Device</h1><div class="row"><div class="s12"><ul class="l-g"><li>ChipID: <b>
<?lua return(string.format("%x",node.chipid()*256):sub(0,6):upper()) ?></b></li><li>FlashID: <b>
<?lua return(string.format("%x",node.flashid()*256):sub(0,6):upper()) ?></b></li><li>Heap: <b>
<?lua return(node.heap()) ?></b></li></ul></div></div></div><div class="s12 m10 l-9"><h1>File list</h1><div id="modules" class="row"><div class="s12"><ul id="file" class="l-g"></ul></div><div class="s12"><br><br><button id="scan" class="right">Scan</button></div></div></div></div></div><footer class="footer"><div class="row"><div class="s12 l11 of-l1"><ul><li class="p-4"><a href="http://codedevice.ru" target="_blank">CodeDevice.ru</a></li><li class="p-4"><a href="https://github.com/bondrogeen/web-server" target="_blank">Source code</a></li><li class="p-4"><a href="http://dot.codedevice.ru/EN/example.html" target="_blank">CSS</a></li></ul></div></div></footer><script>function $(e){return document.getElementById(e)}function send(e,n,t){var o=new XMLHttpRequest;o.open("POST",e,!0),o.setRequestHeader("Content-Type","application/json"),o.addEventListener("load",function(){t&&(200===o.status?t(o.responseText):t(!1))}),o.send(JSON.stringify(n))}function pars(e){try{return JSON.parse(e)}catch(e){return console.error(e),!1}}function logout(){document.cookie="id=",location.href="/login.html"}function scanFiles(){send("init_settings.lua",{list:!0},function(e){if(console.log(e),e){var n=pars(e);if(n){var t=document.getElementById("file");t.innerHTML="",console.log(n);var o=1;for(key in n){var i=document.createElement("li");i.innerHTML=o+") "+key+" : "+n[key]+" bytes",i.setAttribute("class","lg-i"),t.appendChild(i),o++}}}})}window.onload=function(){document.getElementById("loader").classList.add("hide"),document.getElementById("scan").onclick=function(){scanFiles()}}</script></body></html>
